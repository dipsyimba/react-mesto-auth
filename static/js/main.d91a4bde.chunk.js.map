{"version":3,"sources":["images/logo.svg","components/Header.js","images/remove.svg","contexts/CurrentUserContext.js","components/Card.js","images/editAvatar.svg","components/Main.js","components/Footer.js","components/Login.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/ProtectedRoute.js","components/Register.js","images/success.svg","images/failed.svg","components/InfoTooltip.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","exact","path","email","onClick","onSignOut","to","CurrentUserContext","React","createContext","Card","currentUser","useContext","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","type","length","trash","Main","onEditProfile","onEditAvatar","onAddPlace","cards","avatar","editAvatarButton","about","map","item","Footer","Login","useState","setEmail","password","setPassword","onSubmit","e","preventDefault","onLogin","onChange","target","value","placeholder","PopupWithForm","isOpen","title","children","buttonText","onClose","onClickSubmit","AddPlacePopup","place","setPlace","setLink","handleChange","id","minLength","maxLength","required","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","res","_getResponse","ok","json","Promise","reject","status","occupation","method","body","JSON","stringify","cardId","response","authorization","ProtectedRoute","Component","component","loggedIn","Register","onRegister","InfoTooltip","isRegistered","successImage","failedImage","BASE_URL","responseCheck","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setCurrentUser","isLoggedIn","setIsLoggedIn","setIsRegistered","setCards","selectedCard","setSelectedCard","history","useHistory","closeAllPopups","all","getUserInfo","getInitialCards","user","initialCards","catch","err","console","log","tokenCheck","useCallback","token","jwt","localStorage","getItem","Authorization","data","push","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","auth","setItem","finally","setAvatar","updatedAvatar","setUserInfo","updatedData","setNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.d91a4bde.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип Mesto\" className=\"header__logo\" />\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <div className=\"header__control\">\r\n            <p className=\"header__email\">{props.email}</p>\r\n            <button className=\"header__button\" onClick={props.onSignOut}>\r\n              Выйти\r\n            </button>\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"header__link\">\r\n            Вход\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/remove.2af49b82.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import trash from '../images/remove.svg';\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { card, onCardClick, onCardLike, onCardDelete } = props;\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn ? 'grid-item__trash' : 'grid-item__trash grid-item__trash_hidden'\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `grid-item__like ${\r\n    isLiked ? 'grid-item__like_active' : ''\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handkeDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"grid-item\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"grid-item__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"grid-item__info\">\r\n        <h3 className=\"grid-item__name\">{card.name}</h3>\r\n        <div className=\"grid-item__likes\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"grid-item__count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handkeDeleteClick}\r\n      >\r\n        <img src={trash} alt=\"Корзина\" />\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/editAvatar.ae1a976d.svg\";","import React from 'react';\r\nimport Card from './Card';\r\nimport editAvatarButton from '../images/editAvatar.svg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const {\r\n    onEditProfile,\r\n    onEditAvatar,\r\n    onAddPlace,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete,\r\n    cards,\r\n  } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__edit-avatar\">\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар\"\r\n              className=\"profile__avatar\"\r\n            />\r\n            <img\r\n              src={editAvatarButton}\r\n              alt=\"Изменить аватар\"\r\n              className=\"profile__edit-image\"\r\n              onClick={onEditAvatar}\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__text\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <p className=\"profile__occupation\">{currentUser.about}</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              onClick={onEditProfile}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"grid-items\">\r\n          {cards.map((item) => (\r\n            <Card\r\n              key={item._id}\r\n              card={item}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin({ email, password });\r\n  }\r\n\r\n  return (\r\n    <section className=\"page__content\">\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <h1 className=\"form__title\">Вход</h1>\r\n        <input\r\n          onChange={handleChangeEmail}\r\n          className=\"form__input\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n        />\r\n        <input\r\n          onChange={handleChangePassword}\r\n          className=\"form__input\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          name=\"password\"\r\n          value={password}\r\n        />\r\n        <button className=\"form__submit-button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","function PopupWithForm(props) {\r\n  const {\r\n    name,\r\n    isOpen,\r\n    title,\r\n    children,\r\n    buttonText,\r\n    onClose,\r\n    onClickSubmit,\r\n  } = props;\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form\r\n          className={`popup__form popup__form_type_${name}`}\r\n          name=\"edit-profile\"\r\n        >\r\n          {children}\r\n          <button\r\n            onClick={onClickSubmit}\r\n            type=\"submit\"\r\n            className=\"popup__button popup__btn-save\"\r\n            name=\"submit\"\r\n            value=\"Сохранить\"\r\n          >\r\n            {buttonText}\r\n          </button>\r\n          <button type=\"reset\" className=\"popup__btn-close\" onClick={onClose} />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const { isOpen, onClose, onAddPlace } = props;\r\n  const [place, setPlace] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  function handleChange(e) {\r\n    e.target.name === 'title'\r\n      ? setPlace(e.target.value)\r\n      : setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: place,\r\n      link: link,\r\n    });\r\n\r\n    setPlace('');\r\n    setLink('');\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Создать\"\r\n      onClickSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          value={place}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_add_name\"\r\n          id=\"title-input\"\r\n          name=\"title\"\r\n          placeholder=\"Название\"\r\n          minLength={2}\r\n          maxLength={30}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"title-input-error\" />\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          value={link}\r\n          onChange={handleChange}\r\n          type=\"url\"\r\n          className=\"popup__input popup__input_add_link\"\r\n          id=\"link-input\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span\r\n          className=\"popup__input-error popup__input-error_visible\"\r\n          id=\"link-input-error\"\r\n        />\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose } = props;\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChange(e) {\r\n    e.target.name === 'name'\r\n      ? setName(e.target.value)\r\n      : setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\"\r\n      onClickSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <label className=\"popup__field\">\r\n            <input\r\n              value={name || ''}\r\n              onChange={handleChange}\r\n              type=\"text\"\r\n              className=\"popup__input popup__input_profile_name\"\r\n              id=\"name-input\"\r\n              name=\"name\"\r\n              placeholder=\"Имя\"\r\n              minLength={2}\r\n              maxLength={40}\r\n              required\r\n            />\r\n            <span className=\"popup__input-error\" id=\"name-input-error\" />\r\n          </label>\r\n          <label className=\"popup__field\">\r\n            <input\r\n              value={description || ''}\r\n              onChange={handleChange}\r\n              type=\"text\"\r\n              className=\"popup__input popup__input_profile_occupation\"\r\n              id=\"occupation-input\"\r\n              name=\"occupation\"\r\n              placeholder=\"Вид деятельности\"\r\n              minLength={2}\r\n              maxLength={200}\r\n              required\r\n            />\r\n            <span className=\"popup__input-error\" id=\"occupation-input-error\" />\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const { isOpen, onClose, onUpdateAvatar } = props;\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText=\"Сохранить\"\r\n      onClickSubmit={handleSubmit}\r\n      children={\r\n        <>\r\n          <label className=\"popup__field\">\r\n            <input\r\n              ref={inputRef}\r\n              type=\"url\"\r\n              className=\"popup__input popup__input_avatar_link\"\r\n              id=\"link-avatar\"\r\n              name=\"link\"\r\n              placeholder=\"Ссылка на картинку\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup__input-error popup__input-error_visible\"\r\n              id=\"link-avatar-error\"\r\n            />\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={\r\n        props.isOpen ? 'popup popup_img popup_opened' : 'popup popup_img'\r\n      }\r\n    >\r\n      <div className=\"popup__img-container\">\r\n        <button\r\n          type=\"button\"\r\n          id=\"close-img\"\r\n          className=\"popup__btn-close\"\r\n          onClick={props.onClose}\r\n        />\r\n        <img src={props.link} className=\"popup__image\" alt=\"Фото\" />\r\n        <p className=\"popup__img-title\">{props.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  _getResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  setUserInfo(name, occupation) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers,\r\n      method: 'PATCH',\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: occupation,\r\n      }),\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  setNewCard(name, link) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  setAvatar(link) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponse(res));\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then((response) => this._getResponse(response));\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then((response) => this._getResponse(response));\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers,\r\n    }).then((response) => this._getResponse(response));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\r\n  headers: {\r\n    authorization: 'a19e97f8-e3c3-444b-acd8-2259e79e6607',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/sign-in\" />\r\n        )\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister({ email, password });\r\n  }\r\n\r\n  return (\r\n    <section className=\"page__content\">\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <h1 className=\"form__title\">Регистрация</h1>\r\n        <input\r\n          onChange={handleChangeEmail}\r\n          className=\"form__input\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n        />\r\n        <input\r\n          onChange={handleChangePassword}\r\n          className=\"form__input\"\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          name=\"password\"\r\n          value={password}\r\n        />\r\n        <button className=\"form__submit-button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link to=\"/sign-in\" className=\"form__link\" type=\"button\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failed.df8eddf6.svg\";","import React from 'react';\r\nimport successImage from '../images/success.svg';\r\nimport failedImage from '../images/failed.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n  const { isOpen, onClose, isRegistered } = props;\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container popup__container_type_info\">\r\n        <img\r\n          className=\"popup__status-image\"\r\n          src={isRegistered ? successImage : failedImage}\r\n          alt=\"\"\r\n        />\r\n        <h3 className=\"popup__info-text\">\r\n          {isRegistered\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h3>\r\n        <button type=\"reset\" className=\"popup__btn-close\" onClick={onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst responseCheck = (response) =>\r\n  response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(responseCheck);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(responseCheck);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(responseCheck);\r\n};\r\n","import Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport Login from './Login.js';\r\nimport '../index.css';\r\nimport { useCallback, useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport React, { useEffect } from 'react';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport * as auth from '../auth.js';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isRegistered, setIsRegistered] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    name: '',\r\n    link: '',\r\n    isOpen: false,\r\n  });\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([user, initialCards]) => {\r\n        setCurrentUser(user);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        // Обновляем стейт\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    console.log(card);\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsInfoTooltipPopupOpen(false);\r\n    setSelectedCard({\r\n      isOpen: false,\r\n    });\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    const { name, link } = card;\r\n    setSelectedCard({\r\n      name: name,\r\n      link: link,\r\n      isOpen: true,\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data.name, data.about)\r\n      .then((updatedData) => {\r\n        setCurrentUser(updatedData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setAvatar(data.avatar)\r\n      .then((updatedAvatar) => {\r\n        setCurrentUser(updatedAvatar);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api\r\n      .setNewCard(data.name, data.link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const tokenCheck = useCallback(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if (jwt) {\r\n      auth\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setIsLoggedIn(true);\r\n            setEmail(res.data.email);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          history.push('/sign-in');\r\n        });\r\n    }\r\n  }, [history]);\r\n\r\n  function handleLogin({ email, password }) {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem('jwt', res.token);\r\n        setIsLoggedIn(true);\r\n        history.push('/');\r\n        tokenCheck();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Что-то пошло не так: ${err}`);\r\n      });\r\n  }\r\n\r\n  function handleRegister({ email, password }) {\r\n    auth\r\n      .register(email, password)\r\n      .then(() => {\r\n        setIsRegistered(true);\r\n        history.push('/sign-in');\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n        setIsRegistered(false);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoTooltipPopupOpen(true);\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    setEmail('');\r\n    setIsLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"page\">\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header email={email} onSignOut={handleLogout} />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              component={Main}\r\n              loggedIn={isLoggedIn}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n            />\r\n            <Route path=\"/sign-in\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          {/* Попап обновления аватара */}\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          {/* Попап редактирования профиля */}\r\n          <EditProfilePopup\r\n            onUpdateUser={handleUpdateUser}\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          {/* Попап добавления карточки */}\r\n          <AddPlacePopup\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n          {/* Попап подтвержения удаления карточки */}\r\n          {/* <PopupWithForm\r\n            title=\"Вы уверены?\"\r\n            name=\"delete\"\r\n            isOpen={false}\r\n            onClose={closeAllPopups}\r\n            children={}\r\n          /> */}\r\n          {/* Попап с картинкой */}\r\n          <ImagePopup\r\n            name={selectedCard.name}\r\n            link={selectedCard.link}\r\n            onClose={closeAllPopups}\r\n            isOpen={selectedCard.isOpen}\r\n          />\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipPopupOpen}\r\n            onClose={closeAllPopups}\r\n            isRegistered={isRegistered}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}